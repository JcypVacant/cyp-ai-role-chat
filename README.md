# cyp-ai-role-chat
开发一个利用 AI 来做角色扮演的网页，用户可以搜索自己感兴趣的角色例如哈利波特、苏格拉底等并可与其进行语音聊天。

#### 请回答：

1. 你计划将这个网页面向什么类型的用户？这些类型的用户他们面临什么样的痛点，你设想的用户故事是什么样呢？
2. 你认为这个网页需要哪些功能？这些功能各自的优先级是什么？你计划本次开发哪些功能？
3. 你计划采纳哪家公司的哪个 LLM 模型能力？你对比了哪些，你为什么选择用该 LLM 模型？
4. 你期望 AI 角色除了语音聊天外还应该有哪些技能？

**请开发以上网页，包括实现 3 个以上 AI 角色应该具备的技能。要求不能调用第三方的 Agent 能力，只需允许调用 LLM 模型、语音识别以及 TTS 能力。针对以上 1-4 点，请把你的思考整理成文档，作为作品的说明一并提交。**

### 项目提交的demo和项目设计实现文档在demo文件夹下

#### 一、目标用户及痛点分析

#### 1.面向的用户类型

- **历史 / 文学爱好者**：对特定历史人物、文学角色有深度兴趣，希望沉浸式交流
- **教育学习者**：需要通过对话式学习理解哲学思想、历史事件（如苏格拉底的哲学观点）
- **创意工作者**：寻求角色化灵感，用于剧本创作、角色塑造
- **休闲探索用户**：对 AI 角色扮演好奇，追求新颖互动体验

#### 2. 用户痛点

- 缺乏与 "历史人物 / 虚构角色" 深度对话的渠道，现有工具多为单向信息输出
- 学习抽象概念（如哲学思想）时，缺乏场景化、互动式理解途径
- 语音交互场景下，角色人设容易 "出戏"（如现代术语混用、语气不符）
- 对话历史管理混乱，无法持续深入探索特定话题

#### 3. 用户故事示例

作为一名哲学系学生，我希望能与 ' 苏格拉底 ' 持续对话，通过他的提问方式理解 ' 正义 ' 的定义，而不是死记硬背课本概念。当我提出现代社会的正义问题时，他能结合古希腊视角引导我思考，而不是直接给出答案。

#### 二、功能需求及优先级

#### 1. 核心功能

- **角色化语音对话**：支持语音输入输出，保持角色人设（如苏格拉底的追问风格）
- **对话历史管理**：保存、加载、删除历史记录，支持上下文连贯对话
- **角色选择系统**：提供多角色切换（如历史人物、虚构角色），每个角色有独立人设

#### 2. 重要功能

- **文本 / 语音切换**：支持文字输入与语音输入切换，满足不同场景需求
- **角色人设配置**：允许用户微调角色参数（如语气强度、知识范围）
- **对话导出**：支持将对话记录导出为文本，方便学习复盘

#### 3. 本次开发计划

- 实现角色化语音对话（基于苏格拉底角色示例）
- 开发对话历史存储与加载功能
- AI 对话记忆功能
- 角色的搜索功能
- 用户模块功能
- 完成基础角色选择界面
- 主页展示常用角色（卡片式），支持分页
- 实现隔离不同用户与不同角色、用一用户与不同角色对话历史、对话记忆隔离

#### 三、LLM模型的选择

选择使用**DeepSeek**大模型，对比了通义千问、讯飞星火、ChatGPT等大模型。选择DeepSeek原因：

- 强角色人设一致性，支持长对话逻辑连贯
- 中文语境理解精准，历史 / 哲学领域知识覆盖全面
- 成本适中，API 调用限制宽松

#### 四、AI角色扩展功能

**场景化行为模拟**：除语言外，模拟角色的典型动作描述（如 "苏格拉底轻抚胡须，眉头微蹙"）

**知识可视化**：对抽象概念（如正义、美德）提供角色视角的类比解释（如用雅典集市交易举例）

**辩论引导**：主动识别用户观点中的矛盾点，用角色特有的辩论方式推进讨论

**跨时空关联**：在保持人设的前提下，将用户问题与角色时代的相似事件关联（如用伯罗奔尼撒战争类比现代冲突）

**直接语音通话对话**：直接拨通电话，和AI角色来一场时空的对话、历史的碰撞

#### 个人的想法

基于此，未来可以实现用户和AI角色对话文本、语音聊天、语音通话、用户上传图片，根据图片内容和AI角色对话。

用户可创建 AI 角色，增加一个管理员审核管理。

可加入langchain4j的SSE流式输出特性，同时可将AI返回的内容封装为Flux响应式对象，用户发送对话聊天之后，可以立马收到反馈，提高用户体验。

对话记忆：直接使用`langchain4j-community-redis-spring-boot-starter` 这个依赖实现对话记忆（Chat Memory）。
